<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title><ui:insert name="title">HR_Panther</ui:insert></title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
        <h:outputStylesheet library="css" name="jsfcrud.css"/>
        <h:outputScript library="js" name="jsfcrud.js"/>
        <script src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js">
        </script>
        <h:outputScript>
            function handleSubmit(args, dialog) {
                var jqDialog = $('#' + dialog);
                if (args.validationFailed) {
                    jqDialog.effect('shake', {times: 4}, 1000);
                } else {
                    PF(dialog).hide();
                }
            }
            var hiddenFlag = false;
            function hideShow() {
            hiddenFlag = !hiddenFlag;
            var switcherId = $("#switcherId");
            if (hiddenFlag) {
            PF('layoutit').hide('north');
            PF('layoutit').hide('west');
            PF('layoutit').hide('east');
            PF('layoutit').hide('south');
            switcherId.attr("title", "Restore Window");
            }else {
            PF('layoutit').show('north');
            PF('layoutit').show('west');
            PF('layoutit').show('east');
            PF('layoutit').show('south');
            switcherId.attr("title", "Maximize Window");
            }
            }
            function hideTitle(){
            if(!hiddenFlag)PF('layoutit').hide('north');
            }
            function restoreTitle(){
            if(!hiddenFlag)PF('layoutit').show('north');
            }
        </h:outputScript> 
        <link rel="shortcut icon" href="#{facesContext.externalContext.requestContextPath}/resources/images/favicon-16x16.png" />
        <ui:insert name="head"/>
    </h:head>

    <h:body>
         <style type="text/css">
            .outerpanelgrid>tbody>tr{
                border: none !important;
                padding-top: none !important;
            }
            .outerpanelgrid>tbody>tr>td{
                border: none !important;
                padding-top: none !important;                
            }
        </style>

        <p:growl id="growl" life="10000" />

        <p:layout fullPage="true" widgetVar="layoutit">
            <p:layoutUnit position="north" size="80" header="#{bundle.AppName}">
                <h:form id="menuForm">
                   <p:panelGrid columns="3" style="width: 100%" styleClass="outerpanelgrid">
                      <p:graphicImage  library="images" name="panther_logo.png" height="35px;" 
                                        style="margin-left:10%;" /> 
                      <p:menubar style="height: 30px; width: 1200px;">
                        <p:menuitem value="#{bundle.Home}" outcome="/index" icon="ui-icon-home"  style="font-size: 16px !important;"/>
                            <p:submenu label="#{bundle.Maintenance}" style="font-size: 16px !important;">
                                <p:menuitem value="EisforesInfo" outcome="/views/eisforesInfo/List.xhtml" />
                                <p:menuitem value="EmplAdmins" outcome="/views/emplAdmins/List.xhtml" />
                                <p:menuitem value="EmployeeguiSystem" outcome="/views/employeeguiSystem/List.xhtml" />
                                <p:menuitem value="TaInfo" outcome="/views/taInfo/List.xhtml" />
                                <p:menuitem value="TapitInfo" outcome="/views/tapitInfo/List.xhtml" />
                                <p:menuitem value="Timer" outcome="/views/timer/List.xhtml" />
                                <p:menuitem value="Workers" outcome="/views/workers/List.xhtml" />
                            </p:submenu>
                      </p:menubar>
                      <p:commandButton icon="ui-icon-locked" value="Login" rendered="#{!emplAdminsController.loggedIn}"
                                     onclick="PF('loginDialog').show();"/>
                      <p:commandButton icon="ui-icon-unlocked" value="Logout" rendered="#{emplAdminsController.loggedIn}"                                                 
                                     action="#{emplAdminsController.loginMeOut}"/>
                   </p:panelGrid>
                </h:form>
                <ui:insert name="north"/>
            </p:layoutUnit>

            <p:layoutUnit position="south" size="60">
                <ui:insert name="footer"/>
            </p:layoutUnit>

            <p:layoutUnit position="center">
                <div style="position:absolute; top:10px; right:2px;">
                    <p:commandLink id="switcherId"  onclick="hideShow();"  
                                   title="Maximize Window">
                        <span class="ui-icon ui-icon-arrowthick-2-ne-sw" style="background-color:  white"/>
                    </p:commandLink>
                </div>
                <ui:insert name="body"/>
            </p:layoutUnit> 
        </p:layout>
        <p:dialog header="User Login"
                      id="dialog1"
                      modal="true"
                      closable="true"
                      position="center"
                      widgetVar="loginDialog"
                      showEffect="slide"
                      draggable="true"
                      resizable="false"
                      visible="false">   
            
            <h:form id="loginForm">
                <h:panelGrid id="loginBox" columns="2" cellpadding="3" 
                             style="margin: 0 auto; border: 0px; padding-top: 20px;"  >                    
                    <h:outputLabel for="j_username" value="Username "/>
                    <h:outputLabel for="j_password" value="Password "/>
                    <p:keyboard id="j_username" required="true" widgetVar="usernameKeyBoard"
                                value="#{emplAdminsController.emplAdminemail}" label="Username" showMode="button">                   
                        <p:clientValidator/>       
                    </p:keyboard>
                                  
                    <p:keyboard id="j_password" required="true" password="true"
                                value="#{emplAdminsController.password}" label="Password" showMode="button">                                
                        <p:clientValidator/>
                    </p:keyboard>
                    <p:commandButton id="loginBtn" value="Login" ajax="true" immediate="false"
                                     update=":growl"  action="#{emplAdminsController.loginMeIn()}">                        
                    </p:commandButton>                   
                    <p:commandButton value="Cancel" onclick="PF('loginDialog').hide()"/>
                    <p:defaultCommand target="loginBtn"/>
                    <p:commandLink value="Change Password"
                        onstart="PF('loginDialog').hide()" oncomplete="PF('WVchangepwd').show();">                            
                    </p:commandLink> 
                </h:panelGrid>
            </h:form>
        </p:dialog>
        <ui:include src="/ChangePassword.xhtml"/>
    </h:body>

</html>
