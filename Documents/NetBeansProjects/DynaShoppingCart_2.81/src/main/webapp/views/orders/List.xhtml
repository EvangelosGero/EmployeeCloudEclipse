<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">


        <ui:define name="title">
            <h:outputText value="#{bundle_orders.ListOrdersTitle}"></h:outputText>
        </ui:define>

        <ui:define name="body">
            <h:form id="OrdersListForm">
                
                   
                    <p:dataTable id="datalist" value="#{ordersController.items}" var="item"
                                 selectionMode="single" selection="#{ordersController.selected}"
                                 paginator="true"
                                 sortMode="multiple"
                                 rowKey="#{item.orderid}"
                                 rows="10"
                                 rowsPerPageTemplate="10,20,30,40,50"
                                 >

                        <p:ajax event="rowSelect"   update="createButton viewButton editButton deleteButton 
                                datalist"/>
                        <p:ajax event="rowUnselect" update="createButton viewButton editButton deleteButton 
                                datalist"/>
                        
                        <p:column style="width: 50px"  filterBy="#{item.orderid}" sortBy="#{item.orderid}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_orderid}"/>
                            </f:facet>
                            <h:outputText value="#{item.orderid}"/>
                        </p:column>
                        <p:column style="width:100px" sortBy="#{item.orderDate}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_orderDate}"/>
                            </f:facet>
                            <h:outputText value="#{item.orderDate}">
                                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" timeZone="GMT+3"/>
                            </h:outputText>
                        </p:column>                        
                        <p:column style="width:50px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_total}"/>
                            </f:facet>
                            <h:outputText value="#{item.total}"/>
                        </p:column>
                         <p:column style="width:50px">
                            <f:facet name="header">
                                <h:outputText value="Προϊόντα"/>
                            </f:facet>
                            <p:commandLink  id="photos1" value="Προϊόντα"
                                            update=":OrderItemsListForm1"
                                            oncomplete="PF('opanel33').show()"
                                            disabled="#{empty ordersController.selected}"
                                           />                            
                        </p:column>
                        <p:column style="width:100px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_discountCoupon}"/>
                            </f:facet>
                            <h:outputText value="#{item.discountCoupon}"/>
                        </p:column>
                        <p:column style="width:100px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_discountPercent}"/>
                            </f:facet>
                            <h:outputText value="#{item.discountPercent}"/>
                        </p:column>
                        <p:column style="width:100px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_discountPrice}"/>
                            </f:facet>
                            <h:outputText value="#{item.discountPrice}"/>
                        </p:column>
                        <p:column style="width:70px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_totalFinal}"/>
                            </f:facet>
                            <h:outputText value="#{item.totalFinal}"/>
                        </p:column>
                        <p:column style="width:100px" filterBy="#{item.paymentMethodId}" sortBy="#{item.paymentMethodId}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_paymentMethodId}"/>
                            </f:facet>
                            <h:outputText value="#{item.paymentMethodId}"/>
                        </p:column>
                        <p:column style="width:70px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_deltapayId}"/>
                            </f:facet>
                            <h:outputText value="#{item.deltapayId}"/>
                        </p:column>
                        <p:column style="width:100px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_shippingCost}"/>
                            </f:facet>
                            <h:outputText value="#{item.shippingCost}"/>
                        </p:column>
                        <p:column style="width:70px">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_shippingCostId}"/>
                            </f:facet>
                            <p:selectBooleanCheckbox value="#{item.shippingCostId}" disabled="true"/>
                        </p:column>
                        <p:column style="width:50px" filterBy="#{item.affiliate}" sortBy="#{item.affiliate}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_affiliate}"/>
                            </f:facet>
                            <h:outputText value="#{item.affiliate}"/>
                        </p:column>
                        <p:column style="width:70px" filterBy="#{item.orderState}" sortBy="#{item.orderState}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_orderState}"/>
                            </f:facet>
                            <h:outputText value="#{item.orderState}"/>
                        </p:column>
                        <p:column style="width:150px" filterBy="#{item.custName}" sortBy="#{item.custName}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_custName}"/>
                            </f:facet>
                            <h:outputText value="#{item.custName}"/>
                        </p:column>
                        <p:column style="width:150px" filterBy="#{item.custEmail}" sortBy="#{item.custEmail}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_custEmail}"/>
                            </f:facet>
                            <h:outputText value="#{item.custEmail}"/>
                        </p:column>
                       <p:column style="width:120px" filterBy="#{item.custPhone}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_custPhone}"/>
                            </f:facet>
                            <h:outputText value="#{item.custPhone}"/>
                        </p:column>
                        <p:column style="width:200px" filterBy="#{item.shippingAddress}" sortBy="#{item.shippingAddress}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_shippingAddress}"/>
                            </f:facet>
                            <h:outputText value="#{item.shippingAddress}"/>
                        </p:column>
                        <p:column style="width:70px" filterBy="#{item.shippingZip}" sortBy="#{item.shippingZip}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_shippingZip}"/>
                            </f:facet>
                            <h:outputText value="#{item.shippingZip}"/>
                        </p:column>
                        <p:column style="width:120px" filterBy="#{item.shippingCity}" sortBy="#{item.shippingCity}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_shippingCity}"/>
                            </f:facet>
                            <h:outputText value="#{item.shippingCity}"/>
                        </p:column>
                        <p:column style="width:100px" filterBy="#{item.shippingCountry}" sortBy="#{item.shippingCountry}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_shippingCountry}"/>
                            </f:facet>
                            <h:outputText value="#{item.shippingCountry}"/>
                        </p:column>
                        <p:column style="width:120px" filterBy="#{item.requestedInvoice}" sortBy="#{item.requestedInvoice}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_requestedInvoice}"/>
                            </f:facet>
                            <h:outputText value="#{item.requestedInvoice}"/>
                        </p:column>
                        <p:column style="width:50px" filterBy="#{item.exported}" sortBy="#{item.exported}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_exported}"/>
                            </f:facet>
                            <h:outputText value="#{item.exported}"/>
                        </p:column>
                        <p:column style="width:120px" filterBy="#{item.shippingCountryCode}" sortBy="#{item.shippingCountryCode}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_shippingCountryCode}"/>
                            </f:facet>
                            <h:outputText value="#{item.shippingCountryCode}"/>
                        </p:column>
                        <p:column style="width:120px" filterBy="#{item.countryCodeSession}" sortBy="#{item.countryCodeSession}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_countryCodeSession}"/>
                            </f:facet>
                            <h:outputText value="#{item.countryCodeSession}"/>
                        </p:column>
                        <p:column style="width:50px" filterBy="#{item.clientIp}" sortBy="#{item.clientIp}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_clientIp}"/>
                            </f:facet>
                            <h:outputText value="#{item.clientIp}"/>
                        </p:column>
                        <p:column style="width:50px" filterBy="#{item.userId}" sortBy="#{item.userId}">
                            <f:facet name="header">
                                <h:outputText value="#{bundle_orders.ListOrdersTitle_userId}"/>
                            </f:facet>
                            <h:outputText value="#{item.userId}"/>
                        </p:column>
                    
                        <f:facet name="footer"  transient="true">
                            <p:commandButton id="createButton" icon="ui-icon-plus"   value="#{bundle_orders.Create}" 
                                             actionListener="#{ordersController.prepareCreate}" update=":OrdersCreateForm" 
                                             oncomplete="PF('OrdersCreateDialog').show()"/>
                            <p:commandButton id="viewButton"   icon="ui-icon-search" value="#{bundle_orders.View}" 
                                             update=":OrdersViewForm" oncomplete="PF('OrdersViewDialog').show()" 
                                             disabled="#{empty ordersController.selected}"/>
                            <p:commandButton id="editButton"   icon="ui-icon-pencil" value="#{bundle_orders.Edit}" 
                                             update=":OrdersEditForm" oncomplete="PF('OrdersEditDialog').show()" 
                                             disabled="#{empty ordersController.selected}"/>
                            <p:commandButton id="deleteButton" icon="ui-icon-trash"  value="#{bundle_orders.Delete}" 
                                             actionListener="#{ordersController.destroy}" update=":growl,datalist" 
                                             disabled="#{empty ordersController.selected}"/>
                        </f:facet>
                    </p:dataTable>
                    
                
            </h:form>

            <ui:include src="Create.xhtml"/>
            <ui:include src="Edit.xhtml"/>
            <ui:include src="View.xhtml"/>
            <p:commandLink  id="orderItems2" value="OrderItems"   rendered="false"/>
            <p:overlayPanel id = "opanel33" widgetVar="opanel33" for="orderItems2" showCloseIcon="true"   dismissable="false" 
                                        style="width: 1200px; height: 600px; "  my="bottom right" at="top left" appendToBody="true">                     >                                      
                                <ui:include src="/views/orderItems/List_1.xhtml" />
                                <div id="buttonOI3" style="position: absolute !important; 
                                     bottom: 10px !important;  right: 10px !important; ">                          
                                    <p:commandButton id="cancelBtnOI" value="Close" 
                                                     onclick="PF('opanel33').hide()"/>                              
                                </div>                                    
            </p:overlayPanel>
        </ui:define>
    </ui:composition>

</html>
